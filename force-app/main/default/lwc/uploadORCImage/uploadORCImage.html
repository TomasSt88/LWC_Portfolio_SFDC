<template>
    <lightning-card title="Text to Image" icon-name="custom:custom16" class="slds-m-around_medium slds-p-around_small slds-text-align_center slds-container_fluid">
        <lightning-record-edit-form object-api-name="Scanned_Document__c" key={accountId} class="slds-size_1-of-1 slds-align_absolute-center">
            <lightning-input-field field-name="Account__c" value={accountId} onchange={handleAccountChange}></lightning-input-field>
        </lightning-record-edit-form>
        <lightning-file-upload label="Upload Image"
                                name="fileUploader"
                                accept=".jpg,.jpeg,.png"
                                record-id={recordId}
                                onuploadfinished={handleUploadFinished}
                                class="slds-p-around_small slds-size_1-of-1 slds-align_absolute-center slds-m-top_small">
        </lightning-file-upload>
        <img src={imageUrl} alt="Uploaded Image" if:true={imageUrl} class="slds-p-around_medium slds-size_1-of-1 slds-align_absolute-center" style="max-width:70%; height: auto;">
        <lightning-button label="Analyze Image" onclick={analyzeImage} class="slds-p-around_medium slds-size_1-of-1 slds-align_absolute-center"></lightning-button>
        <textarea readonly class="slds-p-around_small slds-size_1-of-1 slds-align_absolute-center slds-textarea" style="width:70%; color: black;">{extractedText}</textarea>
        <div class="slds-p-around_medium slds-size_1-of-1 slds-align_absolute-center slds-grid slds-grid_align-center slds-grid_vertical-align-center">
            <lightning-button label="Save" onclick={saveDocument} class="slds-col slds-m-right_small"></lightning-button>
            <lightning-button label="Clear" onclick={clear} class="slds-col slds-m-left_small"></lightning-button>
        </div>
    </lightning-card>
</template>
